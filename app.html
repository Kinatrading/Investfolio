<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Steam Invest Ultra</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="window" id="body">
  <header class="bar">
    <h1>Steam Invest Ultra (‚Ç¥) <span id="hdrUnreal" class="badge big"></span></h1>
    <div class="spacer"></div>
    
<<<<<<< Updated upstream
    <button id="scanAllBtn" title="–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ API">–°–∫–∞–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ API</button>
    <button id="openAllBtn" title="–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤—Å—ñ API —É –≤–∫–ª–∞–¥–∫–∞—Ö">–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤—Å—ñ API</button>
    <button id="exportJsonBtn">–ï–∫—Å–ø–æ—Ä—Ç JSON</button><button id="sendTgSummaryBtn" title="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø—ñ–¥—Å—É–º–æ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ Telegram">–í Telegram</button><button id="sendTgShortBtn" title="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –°–ö–û–†–û–ß–ï–ù–ò–ô –∑–≤—ñ—Ç —É Telegram">–í TG (–∫–æ—Ä–æ—Ç–∫–æ)</button><button id="saveLocalSummaryBtn" title="–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—ñ—Ç —É —Ñ–∞–π–ª">–ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ</button>
    <label class="fileLabel">–Ü–º–ø–æ—Ä—Ç JSON<input type="file" id="importFile" accept="application/json" hidden/></label>
    <button id="clearBtn" class="danger">–û—á–∏—Å—Ç–∏—Ç–∏</button>
    <button id="themeBtn" title="–¢–µ–º–∞">üåì</button>
=======
    <button id="scanAllBtn" title="–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ API" data-i18n="|–°–∫–∞–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ API|Scan all APIs" data-i18n-key="scanAllBtn">–°–∫–∞–Ω—É–≤–∞—Ç–∏ –≤—Å—ñ API</button>
    <button id="openAllBtn" title="–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤—Å—ñ API —É –≤–∫–ª–∞–¥–∫–∞—Ö" data-i18n="|–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤—Å—ñ API|Open all APIs" data-i18n-key="openAllBtn">–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤—Å—ñ API</button>
    <button id="exportJsonBtn" data-i18n="|–ï–∫—Å–ø–æ—Ä—Ç JSON|Export JSON" data-i18n-key="exportJsonBtn">–ï–∫—Å–ø–æ—Ä—Ç JSON</button><button id="sendTgSummaryBtn" title="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø—ñ–¥—Å—É–º–æ–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ Telegram" data-i18n="|–í Telegram|To Telegram" data-i18n-key="sendTgSummaryBtn">–í Telegram</button><button id="sendTgShortBtn" title="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –°–ö–û–†–û–ß–ï–ù–ò–ô –∑–≤—ñ—Ç —É Telegram" data-i18n="|–í TG (–∫–æ—Ä–æ—Ç–∫–æ)|To TG (short)" data-i18n-key="sendTgShortBtn">–í TG (–∫–æ—Ä–æ—Ç–∫–æ)</button><button id="saveLocalSummaryBtn" data-i18n-key="saveLocalSummaryBtn" title="–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—ñ—Ç —É —Ñ–∞–π–ª" data-i18n="|–ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ|Save locally" data-i18n-key="saveLocalSummaryBtn">–ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ</button>
    <button id="savePortfolioFullBtn" data-i18n-key="savePortfolioFullBtn">–ó–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—å</button>
    <label class="fileLabel" data-i18n="|–Ü–º–ø–æ—Ä—Ç JSON|Import JSON" data-i18n-key="—ñ–º–ø–æ—Ä—Ç_json">–Ü–º–ø–æ—Ä—Ç JSON<input type="file" id="importFile" accept="application/json" hidden/></label>
    <button id="clearBtn" class="danger" data-i18n="|–û—á–∏—Å—Ç–∏—Ç–∏|Clear" data-i18n-key="clearBtn">–û—á–∏—Å—Ç–∏—Ç–∏</button>
    <button id="langBtn" title="–ú–æ–≤–∞" data-i18n-key="langBtn">ENG</button>
    <button id="themeBtn" title="–¢–µ–º–∞" data-i18n-key="themeBtn">üåì</button>
>>>>>>> Stashed changes
  </header>

  <section class="card">
    <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
    <div class="grid four">
      <div>
        <label>–ö–æ–º—ñ—Å—ñ—è Steam (–¥–µ—Ñ.), %</label>
        <input id="feePct" type="number" min="0" max="50" step="0.1" />
      </div>
      <div>
        <label>Telegram Bot Token</label>
        <input id="tgToken" type="text" placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11" />
      </div>
      <div>
        <label>Telegram Chat ID</label>
        <input id="tgChatId" type="text" placeholder="–ù–∞–ø—Ä., 123456789 –∞–±–æ @channelname" />
      </div>
      <div>
        <label>Telegram Chat ID (–æ—Å–æ–±–∏—Å—Ç–∏–π)</label>
        <input id="tgChatIdPersonal" type="text" placeholder="–í–∞—à –æ—Å–æ–±–∏—Å—Ç–∏–π —á–∞—Ç –∞–±–æ @username" />
      </div>

      <div>
        <label>–ê–≤—Ç–æ-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è, —Ö–≤ (0=–≤–∏–º–∫)</label>
        <input id="autoRefreshMinutes" type="number" min="0" step="1" />
      </div>
      <div>
        <label>–ó–∞—Ç—Ä–∏–º–∫–∞ batch, –º—Å</label>
        <input id="batchDelayMs" type="number" min="50" step="50" />
      </div>
      <div>
        <label>–û—Ü—ñ–Ω–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è</label>
        <select id="valuationMode">
          <option value="sell">–ó–∞ 1-—é —Ü—ñ–Ω–æ—é –ø—Ä–æ–¥–∞–∂—É (–ª–∏—Å—Ç–∏–Ω–≥)</option>
          <option value="buy">–ó–∞ 1-–º buy-order (–º–∏—Ç—Ç—î–≤–∏–π –ø—Ä–æ–¥–∞–∂)</option>
        </select>
      </div>
    </div>
    <div class="row-inline mt6">
      <button id="saveSettingsBtn">–ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
    </div>
  </section>

  <section class="card">
    <h2>–î–æ–¥–∞—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç</h2><button id="sendTgCurrentBtn" class="right" title="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ü–µ–π –ø—Ä–µ–¥–º–µ—Ç —É Telegram">–í Telegram</button>
    <div class="grid four">
      <div>
        <label>–ù–∞–∑–≤–∞</label>
        <input id="name" placeholder="–ù–∞–ø—Ä., Sticker | NiP (Holo) | Stockholm 2021"/>
      </div>
      <div>
        <label>–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∫–æ–º—É)</label>
        <input id="tags" placeholder="stickers, 2021, nip"/>
      </div>
      <div>
        <label>–õ—ñ–Ω–∫ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç</label>
        <input id="itemUrl" type="url" placeholder="https://steamcommunity.com/market/listings/..."/>
      </div>
      <div>
        <label>API URL (itemordershistogram)</label>
        <input id="apiUrl" type="url" placeholder="https://steamcommunity.com/market/itemordershistogram?..."/>
        <button id="autofillApiBtn" title="–ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è API-–ª—ñ–Ω–∫–∞ –∑—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–∞">‚ûï –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–∏—Ç–∏ API</button>
      </div>
    </div>
    <div class="row-inline mt6">
      <button id="createItemBtn">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ–∑–∏—Ü—ñ—é</button>
    </div>
  </section>

  <section class="card">
    <h2>–û–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ —Ä–∏–Ω–æ–∫</h2>
    <div class="grid four">
      <div>
        <label>–û–±—Ä–∞–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è</label>
        <select id="itemSelect"></select>
      </div>
      <div>
        <label>–î–∞—Ç–∞</label>
        <input id="opDate" type="date"/>
      </div>
      <div>
        <label>–†–∏–Ω–æ–∫</label>
        <div class="row-inline">
          <button id="fetchBtn" title="–û–Ω–æ–≤–∏—Ç–∏ —Ü—ñ–Ω–∏ –∑ API">–û–Ω–æ–≤–∏—Ç–∏ —Ü—ñ–Ω–∏</button>
          <span id="mkt" class="note"></span>
        </div>
      </div>
      <div>
        <label>–õ—ñ–Ω–∫–∏</label>
        <div id="links"></div>
        <div class="mt6">
          <button id="editLinksBtn">‚úé –õ—ñ–Ω–∫–∏/–∫–æ–º—ñ—Å—ñ—è/—Ç–µ–≥–∏</button>
        </div>
      </div>
    </div>

    <div class="grid three ops">
      <div class="op">
        <h3>–ö—É–ø—ñ–≤–ª—è (–¥–æ–¥–∞—Ç–∏)</h3>
        <label>–ö-—Å—Ç—å</label><input id="buyQty" type="number" min="1" step="1" value="1"/>
        <label>–¶—ñ–Ω–∞, –≥—Ä–Ω</label><input id="buyPrice" type="number" step="0.01" min="0"/>
        <button id="addBuyBtn">–î–æ–¥–∞—Ç–∏ –∫—É–ø—ñ–≤–ª—é</button>
      </div>

      <div class="op">
        <h3>–ü—Ä–æ–¥–∞–∂ –ù–µ—Ç—Ç–æ(—Å–ø–∏—Å–∞—Ç–∏)</h3>
        <label>–ö-—Å—Ç—å</label><input id="sellQty" type="number" min="1" step="1" value="1"/>
        <label>–¶—ñ–Ω–∞, –≥—Ä–Ω</label><input id="sellPrice" type="number" step="0.01" min="0"/>
        <button id="addSellBtn">–î–æ–¥–∞—Ç–∏ –ø—Ä–æ–¥–∞–∂</button>
      </div>

      <div class="op">
        <h3>Break-even & ROI</h3>
        <div id="breakeven"></div>
        <div class="row-inline mt6">
          <input id="roiTarget" type="number" step="1" placeholder="ROI % (–Ω–∞–ø—Ä., 15)"/>
          <button id="calcRoiBtn">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
        </div>
        <div id="roiOut" class="note"></div>
      </div>
    </div>

    <div class="grid two mt6">
      <div>
<<<<<<< Updated upstream
        <h3>–ì–ª–∏–±–∏–Ω–∞ —Ä–∏–Ω–∫—É (Top-5)</h3>
        <table id="depth"><thead><tr><th>–¢–∏–ø</th><th>–¶—ñ–Ω–∞</th><th>–ö-—Å—Ç—å</th><th>–ö—É–º—É–ª—è—Ç–∏–≤</th></tr></thead><tbody></tbody></table>
      </div>
      <div>
        <h3>–ì—Ä–∞—Ñ—ñ–∫ (–æ–±—Ä–∞–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è)</h3>
        <canvas id="chart" width="540" height="160"></canvas>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>–î–∏–Ω–∞–º—ñ–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—é</h2>
    <canvas id="pnlChart"></canvas>
  </section>

=======
        <h3 data-i18n-key="–≥–ª–∏–±–∏–Ω–∞_—Ä–∏–Ω–∫—É_top_5">–ì–ª–∏–±–∏–Ω–∞ —Ä–∏–Ω–∫—É (Top-5)</h3>
        <table id="depth"><thead><tr><th>–¢–∏–ø</th><th data-i18n="|–¶—ñ–Ω–∞|Price" data-i18n-key="—Ü—ñ–Ω–∞">–¶—ñ–Ω–∞</th><th data-i18n="|–ö-—Å—Ç—å|Qty" data-i18n-key="–∫_—Å—Ç—å_3">–ö-—Å—Ç—å</th><th data-i18n="|–ö—É–º—É–ª—è—Ç–∏–≤|Cumulative" data-i18n-key="–∫—É–º—É–ª—è—Ç–∏–≤">–ö—É–º—É–ª—è—Ç–∏–≤</th></tr></thead><tbody></tbody></table>
      </div>
      <div>
        <h3 data-i18n="|–ì—Ä–∞—Ñ—ñ–∫ (–æ–±—Ä–∞–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è)|Chart (selected position)" data-i18n-key="–≥—Ä–∞—Ñ—ñ–∫_–æ–±—Ä–∞–Ω–∞_–ø–æ–∑–∏—Ü—ñ—è">–ì—Ä–∞—Ñ—ñ–∫ (–æ–±—Ä–∞–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è)</h3></div>
    </div>
  </section>

  
>>>>>>> Stashed changes
  <section class="card">
  
    <h2>–ü–æ—Ä—Ç—Ñ–µ–ª—å</h2>
  <div class="search-wrap">
    <input id="search" type="search"
           placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é –∞–±–æ —Ç–µ–≥–∞–º–∏‚Ä¶ (–Ω–∞—Ç–∏—Å–Ω–∏ /)" />
  </div>

    <div class="table-wrap">	
      <table id="tbl">

<thead>
  <tr>
    <th class="sortable" data-sort="name">–ù–∞–∑–≤–∞ <span class="arrow"></span></th>
    <th>–¢–µ–≥–∏</th>
    <th class="sortable" data-sort="qty">–ö-—Å—Ç—å <span class="arrow"></span></th>
    <th class="sortable" data-sort="avg">–°–µ—Ä. —Å–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å <span class="arrow"></span></th>
    <th class="sortable" data-sort="invested">–ù–µ—Ç—Ç–æ –≤–∫–ª–∞–¥–µ–Ω–æ <span class="arrow"></span></th>
    <th class="sortable" data-sort="market">–ú–∞—Ä–∫–µ—Ç —Ü—ñ–Ω–∞ <span class="arrow"></span></th>
    <th class="sortable" data-sort="unreal">Unrealized <span class="arrow"></span></th>
    <th class="sortable" data-sort="roi">ROI % <span class="arrow"></span></th>
    <th class="sortable" data-sort="vol">œÉ (vol) <span class="arrow"></span></th>
    <th class="sortable" data-sort="sell1">1-–π sell <span class="arrow"></span></th>
    <th class="sortable" data-sort="buy1">1-–π buy <span class="arrow"></span></th>
    <th>Alert Buy ‚â§</th>
    <th>Alert Sell (–Ω–µ—Ç—Ç–æ) ‚â•</th>
    <th class="sortable" data-sort="realAvg">–†–µ–∞–ª—ñ–∑. —Å–µ—Ä. —Ü—ñ–Ω–∞ <span class="arrow"></span></th>
    <th class="sortable" data-sort="realQty">–†–µ–∞–ª—ñ–∑. –∫-—Å—Ç—å <span class="arrow"></span></th>
    <th>Alert —Å—Ç–∞—Ç—É—Å</th>
    <th class="sortable" data-sort="last">–û—Å—Ç–∞–Ω–Ω—î <span class="arrow"></span></th>
    <th></th>
  </tr>
</thead>

        <tbody></tbody>
      </table>
    </div>
    <div id="summary"></div>
  </section>

  <section class="card">
    <h2>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h2>
    <div class="grid four">
      <div><div class="note">Auto-refresh (—Ö–≤)</div><div id="d_alarm"></div></div>
      <div><div class="note">Alarm set at</div><div id="d_alarm_at"></div></div>
      <div><div class="note">Last batch</div><div id="d_batch"></div></div>
      <div><div class="note">Items/Errors/Time</div><div id="d_stats"></div></div>
    </div>
    <div class="row-inline mt6">
      <button id="diagRefresh">–û–Ω–æ–≤–∏—Ç–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>
      <button id="diagBatch">–ü—Ä–∏–º—É—Å–∏—Ç–∏ batch</button>
      <button id="diagTest">–¢–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</button>
    </div>
    <div class="mt6">
      <label>–ñ—É—Ä–Ω–∞–ª (–æ—Å—Ç. 200):</label>
      <textarea id="diagLog" style="width:100%;height:140px;"></textarea>
    </div>
  </section>

  <section class="card">
    <h2>–Ü—Å—Ç–æ—Ä—ñ—è –æ–ø–µ—Ä–∞—Ü—ñ–π</h2>
    <div class="table-wrap">
      <table id="hist">
        <thead>
          <tr>
            <th>–î–∞—Ç–∞</th><th>–¢–∏–ø</th><th>–ù–∞–∑–≤–∞</th><th>–ö-—Å—Ç—å</th><th>–¶—ñ–Ω–∞</th><th>Avg @</th><th>Realized PnL</th><th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>


  <!-- ==== –Ü—Å—Ç–æ—Ä—ñ—è Steam (–æ—Å—Ç–∞–Ω–Ω—ñ 100) ==== -->
  <section class="card">
    <h2>–Ü—Å—Ç–æ—Ä—ñ—è Steam (–æ—Å—Ç–∞–Ω–Ω—ñ 100)</h2>
    <div class="row">
<<<<<<< Updated upstream
      <button id="loadSteam100">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ 100</button>
      <button id="loadSteamMore">–©–µ +100</button>
      <button id="updatePortfolioAuto">–û–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—å</button>
=======
      <button id="loadSteam100" data-i18n-key="loadSteam100">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ 100</button>
      <button id="loadSteamMore" data-i18n-key="loadSteamMore">–©–µ +100</button>
      <button id="updatePortfolioAuto" data-i18n-key="updatePortfolioAuto">–û–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—å</button>
      <button id="forceHistoryMarker" data-i18n-key="forceHistoryMarker">–û–Ω–æ–≤–∏—Ç–∏ —Ç–æ—á–∫—É</button>
>>>>>>> Stashed changes
      <span id="steamStatus" class="muted"></span>
    </div>
    <div class="table-wrap">
      <table id="steamHist">
        <thead>
          <tr>
            <th>–î–∞—Ç–∞</th><th>–¢–∏–ø</th><th>–Ü–∫–æ–Ω–∫–∞</th><th>–ù–∞–∑–≤–∞</th><th>–¶—ñ–Ω–∞</th><th>–î—ñ—è</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>



  <!-- ==== –ü–æ–≤–Ω–∏–π —ñ–Ω–≤–µ–Ω—Ç–∞—Ä Steam ==== -->
  <section class="card">
    <h2>–Ü–Ω–≤–µ–Ω—Ç–∞—Ä Steam</h2>
    <div class="row">
      <button id="loadInvBtn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä</button>
      <input id="invSearch" placeholder="–§—ñ–ª—å—Ç—Ä –∑–∞ –Ω–∞–∑–≤–æ—é..." style="margin-left:8px; flex:1">
      <span id="invStatus" class="muted"></span>
    </div>
    <div class="table-wrap">
      <table id="invTbl">
        <thead>
          <tr>
            <th>–Ü–∫–æ–Ω–∫–∞</th><th>–ù–∞–∑–≤–∞</th><th>–ö-—Å—Ç—å</th><th>Tradable</th><th>–î—ñ—è</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>


  <script src="app.js"></script>
</body>
</html>
